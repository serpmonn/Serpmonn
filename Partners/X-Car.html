<!DOCTYPE html>
<html lang="ru">
    <head>
        <title>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª–µ–π X-Car</title>
        <meta charset="UTF-8">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
        <meta name="viewport" content="width=device-width, height=device-height, minimum-scale=0.5, initial-scale=1, maximum-scale=3, user-scalable=yes">
        <meta name="description" content="–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª–µ–π X-Car!">
		<meta name="keywords" content="serpmonn, —Å–µ—Ä–ø–º–æ–Ω, —Å–µ—Ä–ø–º–æ–Ω–Ω, –ø–æ–∏—Å–∫–æ–≤–∏–∫, –Ω–æ–≤–æ—Å—Ç–∏, –º–∏–Ω–∏-–∏–≥—Ä—ã, –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –∏–≥—Ä—ã, –ø–æ–∏—Å–∫ –±–µ–∑ —Ä–µ–∫–ª–∞–º—ã, –ø–æ–∏—Å–∫–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∑–∏—Ü–∏–π, –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ñ–∏–∫–∞, –ø–æ–∏—Å–∫–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –ø–æ–∏—Å–∫–æ–≤—ã–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥, –∞–Ω–∞–ª–∏–∑ —Å—Å—ã–ª–æ–∫, seo, games, –∏–≥—Ä—ã">
		<meta property="og:title" content="–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª–µ–π X-Car!" />
		<meta property="og:description" content="–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª–µ–π –∫ X-Car!" />
		<meta property="og:image" content="https://serpmonn.ru/images/Logo_X-Car.png" />
		<meta property="og:url" content="https://serpmonn.ru" />
		<meta property="og:type" content="website" />
		<link rel="icon" href="https://serpmonn.ru/images/Logo_X-Car.png" type="image/x-icon">
        <link rel="canonical" href="https://www.serpmonn.ru/main.html">
		<link rel="manifest" href="pwa/manifest.json">
		<!-- –°—Ç–∏–ª–∏ -->
    	<link rel="stylesheet" href="styles/styles.css">
		<!-- –°–∫—Ä–∏–ø—Ç—ã -->
    	<script type="module" src="scripts/scripts.js" defer></script>
        <style>
            body {
                font-family: 'Arial', sans-serif;
                max-width: 800px;
                margin: 0 auto;
                padding: 20px;
                color: #333;
                line-height: 1.6;
                background: #f5f5f9;
            }
            header {
                text-align: center;
                margin-bottom: 30px;
            }
            .logo {
                max-width: 200px;
                margin-bottom: 15px;
            }
            .benefits {
                background: white;
                padding: 20px;
                border-radius: 10px;
                margin-bottom: 25px;
                box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            }
            .benefit-item {
                display: flex;
                align-items: center;
                margin-bottom: 15px;
            }
            .benefit-icon {
                color: #8a2be2;
                font-size: 24px;
                margin-right: 15px;
                min-width: 30px;
                text-align: center;
            }
            .form-container {
                background: white;
                padding: 30px;
                border-radius: 10px;
                box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            }
            input, select {
                width: 100%;
                padding: 14px;
                margin: 10px 0;
                border: 1px solid #ddd;
                border-radius: 8px;
                font-size: 16px;
                box-sizing: border-box;
                transition: border 0.3s;
            }
            input:focus, select:focus {
                border-color: #8a2be2;
                outline: none;
            }
            .checkbox-container {
                display: flex;
                align-items: center;
                margin: 15px 0;
            }
            .checkbox-container input {
                width: auto;
                margin-right: 10px;
            }
            button {
                background: #8a2be2;
                color: white;
                border: none;
                padding: 16px;
                width: 100%;
                border-radius: 8px;
                font-size: 18px;
                cursor: pointer;
                margin-top: 10px;
                font-weight: bold;
                transition: background 0.3s;
            }
            button:hover {
                background: #7b1fa2;
            }
            .success-message {
                display: none;
                color: #2e7d32;
                font-weight: bold;
                text-align: center;
                margin-top: 20px;
                padding: 15px;
                background: #e8f5e9;
                border-radius: 8px;
            }
            .stats {
                display: flex;
                justify-content: space-around;
                text-align: center;
                margin: 30px 0;
            }
            .stat-item {
                padding: 15px;
            }
            .stat-number {
                font-size: 28px;
                font-weight: bold;
                color: #8a2be2;
            }
            .testimonial {
                background: #f3e5f5;
                padding: 20px;
                border-radius: 10px;
                margin: 25px 0;
                position: relative;
            }
        </style>
        </head>
        <body>
            <header>
                <img src="https://serpmonn.ru/images/Logo_X-Car.png" alt="X-Car Partner Logo" class="logo">
                <h1>–ù–∞—á–Ω–∏—Ç–µ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å X-Car —Å–µ–≥–æ–¥–Ω—è!</h1>
                <p>–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ!</p>
            </header>
        
            <div class="benefits">
                <h2>‚ú® –ü–æ—á–µ–º—É –≤–æ–¥–∏—Ç–µ–ª–∏ –≤—ã–±–∏—Ä–∞—é—Ç X-Car?</h2>
                
                <div class="benefit-item">
                    <div class="benefit-icon">üí∞</div>
                    <div>
                        <h3>–î–æ—Ö–æ–¥ –¥–æ 120 000‚ÇΩ –≤ –º–µ—Å—è—Ü</h3>
                        <p>–°–∞–º—ã–π –≤—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç —Å –ø–æ–µ–∑–¥–∫–∏ —Å—Ä–µ–¥–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ - –¥–æ 85%</p>
                    </div>
                </div>
                
                <div class="benefit-item">
                    <div class="benefit-icon">‚è±Ô∏è</div>
                    <div>
                        <h3>–ì–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã</h3>
                        <p>–†–∞–±–æ—Ç–∞–π—Ç–µ –∫–æ–≥–¥–∞ —É–¥–æ–±–Ω–æ - —Ö–æ—Ç—å 2 —á–∞—Å–∞ –≤ –¥–µ–Ω—å, —Ö–æ—Ç—å –ø–æ–ª–Ω—ã–π –¥–µ–Ω—å</p>
                    </div>
                </div>
                
                <div class="benefit-item">
                    <div class="benefit-icon">üöó</div>
                    <div>
                        <h3>–õ—é–±–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å</h3>
                        <p>–ú–∞—à–∏–Ω—ã –æ—Ç 2005 –≥–æ–¥–∞ –≤—ã–ø—É—Å–∫–∞ (–≤–∫–ª—é—á–∞—è –≥–∞–∑–æ–≤—ã–µ)</p>
                    </div>
                </div>
            </div>
        
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number">43 000+</div>
                    <div>–≤–æ–¥–∏—Ç–µ–ª–µ–π –≤ —Å–∏—Å—Ç–µ–º–µ</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">94%</div>
                    <div>–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">24/7</div>
                    <div>–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–æ–¥–∏—Ç–µ–ª–µ–π</div>
                </div>
            </div>
        
            <div class="form-container">
                <h2>üöÄ –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–∏—Å—Ç–µ–º–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å</h2>
                
                <form id="driverForm">
                    <input type="text" name="name" placeholder="–í–∞—à–µ –∏–º—è" required>

                    <!-- –ü–æ–ª–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å —É–º–Ω–æ–π –º–∞—Å–∫–æ–π –≤–≤–æ–¥–∞ -->
                    <input type="tel" 
                    name="phone" 
                    id="phoneInput"
                    placeholder="+7 (___) ___-__-__" 
                    required
                    data-pattern="^(\+7|8)[\s\-]?\(?\d{3}\)?[\s\-]?\d{3}[\s\-]?\d{2}[\s\-]?\d{2}$">
                    <small>–§–æ—Ä–º–∞—Ç: +7/8 –∏ 10 —Ü–∏—Ñ—Ä. –î–æ–ø—É—Å—Ç–∏–º—ã: –ø—Ä–æ–±–µ–ª—ã, —Å–∫–æ–±–∫–∏, –¥–µ—Ñ–∏—Å—ã</small>
                    
                    <!-- –í—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤–≤–æ–¥–∞ —Å–≤–æ–µ–≥–æ -->
                    <select name="city" id="citySelect" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</option>
                        <option value="–ú–æ—Å–∫–≤–∞">–ú–æ—Å–∫–≤–∞</option>
                        <option value="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                        <option value="–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫">–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
                        <option value="–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥">–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥</option>
                        <option value="–ö–∞–∑–∞–Ω—å">–ö–∞–∑–∞–Ω—å</option>
                        <option value="–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥">–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥</option>
                        <option value="–ß–µ–ª—è–±–∏–Ω—Å–∫">–ß–µ–ª—è–±–∏–Ω—Å–∫</option>
                        <option value="–°–∞–º–∞—Ä–∞">–°–∞–º–∞—Ä–∞</option>
                        <option value="–û–º—Å–∫">–û–º—Å–∫</option>
                        <option value="–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É">–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É</option>
                        <option value="–£—Ñ–∞">–£—Ñ–∞</option>
                        <option value="–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫">–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫</option>
                        <option value="other">–î—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥</option>
                    </select>
                    
                    <!-- –ü–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —Å–≤–æ–µ–≥–æ –≥–æ—Ä–æ–¥–∞ (–ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ "–î—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥") -->
                    <input type="text" name="custom_city" id="customCityInput" placeholder="–£–∫–∞–∂–∏—Ç–µ –≤–∞—à –≥–æ—Ä–æ–¥" style="display: none;">
                    
                    <input type="text" name="car_brand" placeholder="–ú–∞—Ä–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: Kia)" required>
                    <input type="text" name="car_model" placeholder="–ú–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: Rio)" required>
                    <input type="number" name="car_year" placeholder="–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞" min="2005" max="2025" required>
                    
                    <div class="checkbox-container">
                        <input type="checkbox" name="agreement" id="agreement" required>
                        <label for="agreement">–Ø —Å–æ–≥–ª–∞—Å–µ–Ω –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</label>
                    </div>
                    
                    <button type="submit">–ü–û–î–ö–õ–Æ–ß–ò–¢–¨–°–Ø –°–ï–ô–ß–ê–°</button>
                </form>
                
                <div class="success-message" id="successMessage">
                    <h3>–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞—è–≤–∫—É!</h3>
                </div>
            </div>
        
            <script>
                document.getElementById('driverForm').addEventListener('submit', async function(e) {
                  e.preventDefault();
                  
                  try {
                    // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
                    const phoneInput = this.elements['phone'];
                    const phoneValue = phoneInput.value.replace(/\D/g, '');
                    let normalizedPhone;
                
                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –Ω–æ–º–µ—Ä–∞
                    if (phoneValue.length === 10) {
                      normalizedPhone = '+7' + phoneValue; // 10 —Ü–∏—Ñ—Ä ‚Üí –¥–æ–±–∞–≤–ª—è–µ–º +7
                    } 
                    else if (phoneValue.startsWith('8') && phoneValue.length === 11) {
                      normalizedPhone = '+7' + phoneValue.substring(1); // 8XXXXXXXXXX ‚Üí +7XXXXXXXXX
                    }
                    else if (phoneValue.startsWith('7') && phoneValue.length === 11) {
                      normalizedPhone = '+7' + phoneValue.substring(1); // 7XXXXXXXXXX ‚Üí +7XXXXXXXXX
                    }
                    else if (phoneValue.startsWith('+7') && phoneValue.length === 12) {
                      normalizedPhone = phoneValue; // +7XXXXXXXXXX –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å
                    }
                    else {
                      throw new Error('–í–≤–µ–¥–∏—Ç–µ 10 —Ü–∏—Ñ—Ä –Ω–æ–º–µ—Ä–∞ –∏–ª–∏ 11 —Ü–∏—Ñ—Ä, –Ω–∞—á–∏–Ω–∞—è —Å 8');
                    }
                
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
                    if (!/^\+7\d{10}$/.test(normalizedPhone)) {
                      throw new Error('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞');
                    }
                
                    // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
                    const citySelect = document.getElementById('citySelect');
                    const city = citySelect.value === 'other' 
                      ? this.elements['custom_city'].value.trim()
                      : citySelect.value;
                
                    // –í–∞–ª–∏–¥–∞—Ü–∏—è –≥–æ–¥–∞ –∞–≤—Ç–æ
                    const currentYear = new Date().getFullYear();
                    if (this.elements['car_year'].value < 2005 || this.elements['car_year'].value > currentYear + 1) {
                      throw new Error(`–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–µ–∂–¥—É 2005 –∏ ${currentYear + 1}`);
                    }
                
                    // –í–∞–ª–∏–¥–∞—Ü–∏—è –≥–æ—Ä–æ–¥–∞
                    if (!city || city.length < 2) {
                      throw new Error('–£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≥–æ—Ä–æ–¥');
                    }
                
                    // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
                    const formData = {
                      name: this.elements['name'].value.trim(),
                      phone: normalizedPhone,
                      raw_phone: phoneInput.value,
                      city: city,
                      car_brand: this.elements['car_brand'].value.trim(),
                      car_model: this.elements['car_model'].value.trim(),
                      car_year: this.elements['car_year'].value,
                      date: new Date().toISOString(),
                      source: 'landing_page',
                      ip: await fetch('https://api.ipify.org?format=json')
                            .then(r => r.json())
                            .then(data => data.ip)
                            .catch(() => 'unknown')
                    };
                
                    // –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                    const serverResponse = await fetch('https://serpmonn.ru/xcar-drivers', {
                      method: 'POST',
                      headers: {
                        'Content-Type': 'application/json',
                        'X-Requested-With': 'XMLHttpRequest'
                      },
                      body: JSON.stringify(formData)
                    });
                
                    if (!serverResponse.ok) {
                      const errorData = await serverResponse.json().catch(() => ({}));
                      throw new Error(errorData.message || `–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: ${serverResponse.status}`);
                    }
                
                    // –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
                    document.getElementById('driverForm').style.display = 'none';
                    document.getElementById('successMessage').style.display = 'block';
                
                    // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
                    setTimeout(() => {
                      this.reset();
                      document.getElementById('driverForm').style.display = 'block';
                      document.getElementById('successMessage').style.display = 'none';
                      document.getElementById('citySelect').dispatchEvent(new Event('change'));
                    }, 5000);
                
                  } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º—ã:', error);
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
                    const errorElement = document.getElementById('form-error') || createErrorElement();
                    errorElement.textContent = error.message;
                    errorElement.style.display = 'block';
                    
                    // –§–æ–∫—É—Å–∏—Ä—É–µ–º –ø—Ä–æ–±–ª–µ–º–Ω–æ–µ –ø–æ–ª–µ
                    if (error.message.includes('—Ç–µ–ª–µ—Ñ–æ–Ω')) {
                      this.elements['phone'].focus();
                    } else if (error.message.includes('–≥–æ–¥')) {
                      this.elements['car_year'].focus();
                    } else if (error.message.includes('–≥–æ—Ä–æ–¥')) {
                      if (document.getElementById('citySelect').value === 'other') {
                        this.elements['custom_city'].focus();
                      } else {
                        document.getElementById('citySelect').focus();
                      }
                    }
                  }
                });
                
                function createErrorElement() {
                  const errorElement = document.createElement('div');
                  errorElement.id = 'form-error';
                  errorElement.style.color = '#ff0000';
                  errorElement.style.marginTop = '10px';
                  errorElement.style.display = 'none';
                  document.getElementById('driverForm').appendChild(errorElement);
                  return errorElement;
                }
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ "–î—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥"
                document.getElementById('citySelect').addEventListener('change', function() {
                  const customCityInput = document.getElementById('customCityInput');
                  const wasRequired = customCityInput.hasAttribute('required');
                  
                  customCityInput.style.display = this.value === 'other' ? 'block' : 'none';
                  customCityInput.toggleAttribute('required', this.value === 'other');
                  
                  if (!wasRequired && this.value === 'other') {
                    customCityInput.focus();
                  }
                });
                
                // –ú–∞—Å–∫–∞ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
                document.getElementById('phone').addEventListener('input', function(e) {
                  const input = e.target;
                  let value = input.value.replace(/\D/g, '');
                  
                  if (value.length > 0) {
                    if (value.startsWith('8') && value.length === 1) {
                      value = '7';
                    }
                    
                    let formattedValue = '+7';
                    if (value.length > 1) formattedValue += ' (' + value.substring(1, 4);
                    if (value.length > 4) formattedValue += ') ' + value.substring(4, 7);
                    if (value.length > 7) formattedValue += '-' + value.substring(7, 9);
                    if (value.length > 9) formattedValue += '-' + value.substring(9, 11);
                    
                    input.value = formattedValue;
                  }
                });
                </script>
        </body>
</html>
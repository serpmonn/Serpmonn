<script type="module" src="/frontend/scripts/menu-loader.js" defer></script>
<script type="module" src="/frontend/scripts/scripts.js" defer></script>
<script src="/frontend/scripts/mobile-enhancements.js" defer></script>
<script async src="https://ad.mail.ru/static/ads-async.js"></script>
<script>
  function handleIns(ins) {
    if (!ins || ins.__handled) return;
    ins.__handled = true;
    setTimeout(function() {
      var has = !!ins.querySelector("iframe");
      if (!has) {
        (window.MRGtag = window.MRGtag || []).push({});
      }
      setTimeout(function() {
        if (!ins.querySelector("iframe")) {
          var p = ins.closest(".ad-top-banner,.ad-leaderboard,.promo-ad-inline,#mobile-anchor-ad");
          if (p) p.style.display = 'none';
        }
      }, 2000);
    }, 2000);
  }

  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll("ins.mrg-tag").forEach(handleIns);
    
    var mo = new MutationObserver(function(muts) {
      muts.forEach(function(m) {
        m.addedNodes && m.addedNodes.forEach(function(n) {
          if (n.querySelectorAll) {
            n.querySelectorAll("ins.mrg-tag").forEach(handleIns);
          }
        });
      });
    });
    
    mo.observe(document.documentElement, { childList: true, subtree: true });
  });
</script>
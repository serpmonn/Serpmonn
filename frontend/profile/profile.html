<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ñ–∏–ª—å</title>
    <link rel="icon" href="/images/Serpmonn.ico" type="image/x-icon">
    <link rel="canonical" href="https://www.serpmonn.ru/main.html">
    <link rel="stylesheet" href="profile_styles.css">
    <script type="module" src="profile_scripts.js" defer></script>
    <script type="module" src="/scripts/menu-loader.js" defer></script>
</head>
<body>
    <div class="container">
        <h2>üë§ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>

        <div id="profileInfo" class="card">
            <p><strong>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</strong> <span id="username"></span></p>
            <p><strong>Email:</strong> <span id="email"></span></p>
        </div>

        <h3>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</h3>
        <form id="profileForm" class="form-card">
            <label for="newUsername">–ù–æ–≤–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
            <input type="text" id="newUsername" name="newUsername" maxlength="255">

            <label for="newEmail">–ù–æ–≤—ã–π email</label>
            <input type="email" id="newEmail" name="newEmail">

            <button type="submit" class="primary-button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
        </form>

        <p id="message" class="message"></p>

        <div class="onnmail-buttons">
            <button id="createOnnmailButton" class="secondary-button">@onnmail: –°–æ–∑–¥–∞—Ç—å –ø–æ—á—Ç—É</button>
            <button id="loginOnnmailButton" class="secondary-button">@onnmail: –í–æ–π—Ç–∏</button>
        </div>

        <button id="logoutButton" class="danger-button">üö™ –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>

        <!-- –†–∞–∑–¥–µ–ª –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: –±—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –∏ —Å–ø–∏—Å–æ–∫ –Ω–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö -->
        <h3>üß∞ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h3>
        <div class="card">
            <div class="tools-grid">
                <a class="tool-link" href="/frontend/tools/utm-builder.html">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä UTM‚Äë–º–µ—Ç–æ–∫</a>
                <a class="tool-link" href="/frontend/tools/password-generator.html">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π</a>
                <a class="tool-link" href="/frontend/tools/word-counter.html">–°—á—ë—Ç—á–∏–∫ —Å–ª–æ–≤/—Å–∏–º–≤–æ–ª–æ–≤</a>
            </div>
            <div id="recentTools" style="margin-top:12px;"></div>
        </div>
        <style>
            /* –°–µ—Ç–∫–∞ —Å—Å—ã–ª–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–æ—Ñ–∏–ª–µ */
            .tools-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 8px; }
            .tool-link { display:block; padding:10px 12px; border:1px solid #e5e7eb; border-radius:8px; text-decoration:none; color:#111827; background:#fff; }
        </style>
        <script>
            // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (localStorage)
            (function(){
                const recent = JSON.parse(localStorage.getItem('serp_tools_recent')||'[]');
                const cont = document.getElementById('recentTools');
                // –í—ã–≤–æ–¥–∏–º —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
                if (recent.length) {
                    const wrap = document.createElement('div');
                    wrap.innerHTML = '<strong>–ù–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ:</strong>';
                    const ul = document.createElement('ul');
                    recent.slice(0,5).forEach(item=>{
                        const li=document.createElement('li');
                        const a=document.createElement('a'); a.href=item.href; a.textContent=item.title; li.appendChild(a); ul.appendChild(li);
                    });
                    wrap.appendChild(ul); cont.appendChild(wrap);
                }
                // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –∫–ª–∏–∫–∏ –ø–æ —Å—Å—ã–ª–∫–∞–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
                function trackClicks(sel){
                    document.querySelectorAll(sel).forEach(a=>{
                        a.addEventListener('click', ()=>{
                            const arr = JSON.parse(localStorage.getItem('serp_tools_recent')||'[]');
                            arr.unshift({ title:a.textContent.trim(), href:a.getAttribute('href') });
                            // –£–¥–∞–ª—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–æ 10 –∑–∞–ø–∏—Å–µ–π
                            localStorage.setItem('serp_tools_recent', JSON.stringify(arr.filter((v,i,self)=>self.findIndex(x=>x.href===v.href)===i).slice(0,10)));
                        });
                    });
                }
                trackClicks('.tools-grid a');
            })();
        </script>
    </div>
</body>
</html>
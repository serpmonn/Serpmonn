<!DOCTYPE html>
<html lang="pl" dir="ltr">
  <head>
<link rel="stylesheet" href="/frontend/styles/styles.css">
<meta http-equiv="Content-Language" content="pl">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Car Depreciation Calculator ‚Äî Logistics Serpmonn</title>
    <!-- Open Graph -->
    <meta property="og:title" content="Car Depreciation Calculator ‚Äî Logistics Serpmonn">
    <meta property="og:description" content="Calculate car wear by mileage, time and usage conditions">
    <meta property="og:image" content="https://serpmonn.ru/frontend/images/Banner_Serpmonn.png">
    <meta property="og:url" content="https://serpmonn.ru/frontend/pl/tools/logistics/depreciation-calculator.html">
    <meta property="og:type" content="website">
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Car Depreciation Calculator ‚Äî Logistics Serpmonn">
    <meta name="twitter:description" content="Car wear calculation for drivers">
    <meta name="twitter:image" content="https://serpmonn.ru/frontend/images/Banner_Serpmonn.png">

    <link rel="icon" href="/frontend/images/serpmonn.ico" type="image/x-icon">
    <link rel="stylesheet" href="/frontend/styles/base.css">
        <link rel="stylesheet" href="/frontend/styles/accessibility.css">
    <link rel="stylesheet" href="/frontend/styles/menu.css">
        <link rel="stylesheet" href="/frontend/styles/accessibility.css">
    <style>
            /* ad top adaptive start */
      .ad-top-banner .mrg-tag { width: 970px !important; height: 250px !important; }
      @media (max-width: 1199px) { .ad-top-banner .mrg-tag { width: 728px !important; height: 90px !important; } }
      @media (max-width: 768px) { .ad-top-banner .mrg-tag { width: 320px !important; height: 50px !important; } }
      /* ad top adaptive end */
body { 
        max-width: 1200px; 
        margin: 0 auto; 
        padding: 16px; 
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; 
        background: #f5f5f5;
      }

      .breadcrumb {
        margin-bottom: 20px;
        padding: 10px 0;
        color: #666;
        font-size: 0.9rem;
      }

      .breadcrumb a {
        color: #007bff;
        text-decoration: none;
      }

      .breadcrumb a:hover {
        text-decoration: underline;
      }

      h1 { 
        margin: 16px 0; 
        text-align: center;
        color: #333;
      }

      .calculator-container {
        background: #fff;
        border-radius: 12px;
        padding: 24px;
        margin: 20px 0;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }

      .input-section {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .input-group {
        display: flex;
        flex-direction: column;
      }

      label { 
        font-size: 14px; 
        color: #495057; 
        margin-bottom: 8px;
        font-weight: 500;
      }

      input, select { 
        width: 100%; 
        padding: 12px; 
        border: 2px solid #e9ecef; 
        border-radius: 8px; 
        font-size: 16px;
        transition: border-color 0.3s ease;
      }

      input:focus, select:focus {
        outline: none;
        border-color: #007bff;
      }

      .calculate-btn {
        background: linear-gradient(90deg, #007bff, #0056b3);
        color: #fff;
        border: none;
        padding: 15px 30px;
        border-radius: 8px;
        font-size: 18px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        margin: 20px 0;
      }

      .calculate-btn:hover {
        background: linear-gradient(90deg, #0056b3, #004085);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 123, 255, 0.4);
      }

      .results {
        background: #f8f9fa;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
      }

      .result-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .result-item {
        text-align: center;
        padding: 15px;
        background: #fff;
        border-radius: 8px;
        border: 1px solid #dee2e6;
      }

      .result-value {
        font-size: 24px;
        font-weight: bold;
        color: #007bff;
        margin-bottom: 5px;
      }

      .result-label {
        color: #6c757d;
        font-size: 14px;
      }

      .breakdown {
        margin-top: 30px;
        background: #fff;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }

      .breakdown h3 {
        color: #333;
        margin-bottom: 20px;
        text-align: center;
      }

      .breakdown-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 0;
        border-bottom: 1px solid #e9ecef;
      }

      .breakdown-item:last-child {
        border-bottom: none;
        font-weight: bold;
        font-size: 18px;
        color: #007bff;
      }

      .info-tips {
        background: #e3f2fd;
        border: 1px solid #bbdefb;
        border-radius: 8px;
        padding: 20px;
        margin-top: 30px;
      }

      .info-tips h3 {
        color: #1976d2;
        margin-bottom: 15px;
      }

      .tip-item {
        margin-bottom: 10px;
        padding-left: 20px;
        position: relative;
      }

      .tip-item:before {
        content: "üí°";
        position: absolute;
        left: 0;
      }

      @media (max-width: 768px) {
        .input-section {
          grid-template-columns: 1fr;
        }
        
        .result-grid {
          grid-template-columns: 1fr;
        }
        
        body {
          padding: 12px;
        }
      }
    </style>
  </head>
  <body>
    <!-- –ú–µ–Ω—é -->
    <div id="menuContainer"></div>

    <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
    <div class="breadcrumb">
      <a href="/frontend/pl/tools/index.html">üß∞ Tools</a> ‚Üí 
      <span>üîß Depreciation calculator</span>
    </div>

    <script async src="https://ad.mail.ru/static/ads-async.js"></script>
    <div class="ad-top-banner" style="text-align:center;margin:16px 0;">
      <ins class="mrg-tag" 
          style="display:inline-block;"
          data-ad-client="ad-1897960" 
          data-ad-slot="1897960">
      </ins>
    </div>
    <script>
      (MRGtag = window.MRGtag || []).push({});
    </script>
    <h1>üîß Depreciation calculator –∞–≤—Ç–æ–º–æ–±–∏–ª—è</h1>

    <div class="calculator-container">
      <h2>Enter vehicle parameters</h2>
      
      <div class="input-section">
        <div class="input-group">
          <label for="carBrand">Car brand</label>
          <input type="text" id="carBrand" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Toyota Camry">
        </div>
        
        <div class="input-group">
          <label for="carModel">Model</label>
          <input type="text" id="carModel" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 2.5L Hybrid">
        </div>
        
        <div class="input-group">
          <label for="carYear">Year of manufacture</label>
          <input type="number" id="carYear" min="1990" max="2024" value="2020">
        </div>
        
        <div class="input-group">
          <label for="initialPrice">Initial price (‚ÇΩ)</label>
          <input type="number" id="initialPrice" placeholder="1500000" min="100000">
        </div>
        
        <div class="input-group">
          <label for="currentMileage">Current mileage (km)</label>
          <input type="number" id="currentMileage" placeholder="50000" min="0">
        </div>
        
        <div class="input-group">
          <label for="usageType">–¢–∏–ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</label>
          <select id="usageType">
            <option value="personal">–õ–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</option>
            <option value="taxi">–¢–∞–∫—Å–∏</option>
            <option value="commercial">–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–∑–∫–∏</option>
            <option value="delivery">–î–æ—Å—Ç–∞–≤–∫–∞</option>
          </select>
        </div>
        
        <div class="input-group">
          <label for="fuelType">–¢–∏–ø —Ç–æ–ø–ª–∏–≤–∞</label>
          <select id="fuelType">
            <option value="petrol">–ë–µ–Ω–∑–∏–Ω</option>
            <option value="diesel">–î–∏–∑–µ–ª—å</option>
            <option value="hybrid">–ì–∏–±—Ä–∏–¥</option>
            <option value="electric">–≠–ª–µ–∫—Ç—Ä–æ</option>
          </select>
        </div>
        
        <div class="input-group">
          <label for="maintenanceLevel">–£—Ä–æ–≤–µ–Ω—å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è</label>
          <select id="maintenanceLevel">
            <option value="excellent">–û—Ç–ª–∏—á–Ω—ã–π</option>
            <option value="good">–•–æ—Ä–æ—à–∏–π</option>
            <option value="average">–°—Ä–µ–¥–Ω–∏–π</option>
            <option value="poor">–ü–ª–æ—Ö–æ–π</option>
          </select>
        </div>
        
        <div class="input-group">
          <label for="climateZone">–ö–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–æ–Ω–∞</label>
          <select id="climateZone">
            <option value="mild">–£–º–µ—Ä–µ–Ω–Ω–∞—è</option>
            <option value="cold">–•–æ–ª–æ–¥–Ω–∞—è</option>
            <option value="hot">–ñ–∞—Ä–∫–∞—è</option>
            <option value="humid">–í–ª–∞–∂–Ω–∞—è</option>
          </select>
        </div>
        
        <div class="input-group">
          <label for="currentNewPrice">–¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –Ω–æ–≤—ã—Ö –∞–Ω–∞–ª–æ–≥–æ–≤ (‚ÇΩ)</label>
          <input type="number" id="currentNewPrice" placeholder="900000" min="100000">
          <small style="color: #6c757d; font-size: 12px;">–¶–µ–Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–≥–æ –Ω–æ–≤–æ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è —Å–µ–π—á–∞—Å</small>
        </div>
        
        <div class="input-group">
          <label for="marketGrowth">–†—ã–Ω–æ—á–Ω—ã–π —Ä–æ—Å—Ç —Ü–µ–Ω (%)</label>
          <input type="number" id="marketGrowth" placeholder="40" min="0" max="200" value="40">
          <small style="color: #6c757d; font-size: 12px;">–†–æ—Å—Ç —Ü–µ–Ω –Ω–∞ –Ω–æ–≤—ã–µ –∞–≤—Ç–æ —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ–∫—É–ø–∫–∏</small>
        </div>
        
        <div class="input-group">
          <label for="demandLevel">–°–ø—Ä–æ—Å –Ω–∞ –º–æ–¥–µ–ª—å</label>
          <select id="demandLevel">
            <option value="high">–í—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å</option>
            <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π —Å–ø—Ä–æ—Å</option>
            <option value="low">–ù–∏–∑–∫–∏–π —Å–ø—Ä–æ—Å</option>
          </select>
        </div>

        <div class="input-group">
          <label for="technicalCondition">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</label>
          <select id="technicalCondition">
            <option value="excellent" selected>–û—Ç–ª–∏—á–Ω–æ–µ (–æ—Ä–∏–≥–∏–Ω–∞–ª)</option>
            <option value="good">–•–æ—Ä–æ—à–µ–µ (–Ω–µ–±–æ–ª—å—à–∏–µ –¥–µ—Ñ–µ–∫—Ç—ã)</option>
            <option value="average">–°—Ä–µ–¥–Ω–µ–µ (—Ä–µ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–ª—Å—è)</option>
            <option value="poor">–ü–ª–æ—Ö–æ–µ (–∞–≤–∞—Ä–∏–π–Ω—ã–π)</option>
          </select>
          <small style="color: #6c757d; font-size: 12px;">–£—á–∏—Ç—ã–≤–∞–µ—Ç –∞–≤–∞—Ä–∏–∏, —Ä–µ–º–æ–Ω—Ç—ã, –ø–µ—Ä–µ–∫—Ä–∞—Å–∫—É</small>
        </div>
      </div>

      <button class="calculate-btn" onclick="calculateDepreciation()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—é</button>

      <div id="results" class="results" style="display: none;">
        <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á—ë—Ç–∞</h3>
        <div class="result-grid">
          <div class="result-item">
            <div class="result-value" id="currentValue">0 ‚ÇΩ</div>
            <div class="result-label">–¢–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</div>
          </div>
          <div class="result-item">
            <div class="result-value" id="totalDepreciation">0 ‚ÇΩ</div>
            <div class="result-label">–û–±—â–∞—è –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è</div>
          </div>
          <div class="result-item">
            <div class="result-value" id="depreciationPercent">0%</div>
            <div class="result-label">–ü—Ä–æ—Ü–µ–Ω—Ç –∏–∑–Ω–æ—Å–∞</div>
          </div>
          <div class="result-item">
            <div class="result-value" id="monthlyDepreciation">0 ‚ÇΩ/–º–µ—Å</div>
            <div class="result-label">–ú–µ—Å—è—á–Ω–∞—è –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è</div>
          </div>
        </div>
      </div>
    </div>

    <div id="breakdown" class="breakdown" style="display: none;">
      <h3>–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏</h3>
      <div id="breakdownList"></div>
    </div>

    <div class="info-tips">
      <h3>üí° –ü–æ–ª–µ–∑–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
      <div class="tip-item">–ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–æ–±–µ–≥–∞, –≤—Ä–µ–º–µ–Ω–∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –∏ —É—Å–ª–æ–≤–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</div>
      <div class="tip-item">–ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∏–∑–Ω–æ—Å –≤ 1.5-2 —Ä–∞–∑–∞</div>
      <div class="tip-item">–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –¢–û –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∑–∞–º–µ–¥–ª—è—é—Ç –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—é</div>
      <div class="tip-item">–ö–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É—Å–ª–æ–≤–∏—è –≤–ª–∏—è—é—Ç –Ω–∞ –∏–∑–Ω–æ—Å –∫—É–∑–æ–≤–∞ –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏</div>
      <div class="tip-item">–ì–∏–±—Ä–∏–¥–Ω—ã–µ –∏ —ç–ª–µ–∫—Ç—Ä–æ–º–æ–±–∏–ª–∏ –∏–º–µ—é—Ç –º–µ–Ω—å—à—É—é –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—é –¥–≤–∏–≥–∞—Ç–µ–ª—è</div>
      <div class="tip-item"><strong>–†—ã–Ω–æ—á–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã:</strong> –£—á–∏—Ç—ã–≤–∞–π—Ç–µ —Ä–æ—Å—Ç —Ü–µ–Ω –Ω–∞ –Ω–æ–≤—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ –∏ —Å–ø—Ä–æ—Å –Ω–∞ –≤–∞—à—É –º–æ–¥–µ–ª—å</div>
      <div class="tip-item"><strong>–°–∞–Ω–∫—Ü–∏–∏ –∏ –¥–µ—Ñ–∏—Ü–∏—Ç:</strong> –ú–æ–≥—É—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–¥–µ—Ä–∂–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π</div>
      <div class="tip-item"><strong>–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong> –¶–µ–Ω—ã –º–æ–≥—É—Ç —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –≥–æ—Ä–æ–¥–∞—Ö</div>
    </div>

    <script>
      function calculateDepreciation() {
        // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Ñ–æ—Ä–º—ã
        const carYear = parseInt(document.getElementById('carYear').value);
        const initialPrice = parseFloat(document.getElementById('initialPrice').value);
        const currentMileage = parseFloat(document.getElementById('currentMileage').value);
        const usageType = document.getElementById('usageType').value;
        const fuelType = document.getElementById('fuelType').value;
        const maintenanceLevel = document.getElementById('maintenanceLevel').value;
        const climateZone = document.getElementById('climateZone').value;
        const currentNewPrice = parseFloat(document.getElementById('currentNewPrice').value);
        const marketGrowth = parseFloat(document.getElementById('marketGrowth').value);
        const demandLevel = document.getElementById('demandLevel').value;
        const technicalCondition = document.getElementById('technicalCondition').value;

        if (!initialPrice || !currentMileage) {
          alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è');
          return;
        }

        // –ë–∞–∑–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏
        let baseDepreciation = 0;
        const currentYear = new Date().getFullYear();
        const ageInYears = currentYear - carYear;

        // –ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (–≥–æ–¥—ã)
        if (ageInYears <= 3) {
          baseDepreciation = ageInYears * 0.15; // 15% –≤ –≥–æ–¥ –¥–ª—è –Ω–æ–≤—ã—Ö –∞–≤—Ç–æ
        } else if (ageInYears <= 7) {
          baseDepreciation = 0.45 + (ageInYears - 3) * 0.12; // 12% –≤ –≥–æ–¥
        } else if (ageInYears <= 12) {
          baseDepreciation = 0.93 + (ageInYears - 7) * 0.08; // 8% –≤ –≥–æ–¥
        } else {
          baseDepreciation = 1.33 + (ageInYears - 12) * 0.05; // 5% –≤ –≥–æ–¥
        }

        // –ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è –ø–æ –ø—Ä–æ–±–µ–≥—É
        let mileageDepreciation = 0;
        if (currentMileage <= 50000) {
          mileageDepreciation = currentMileage / 50000 * 0.1; // 10% –∑–∞ 50–∫ –∫–º
        } else if (currentMileage <= 150000) {
          mileageDepreciation = 0.1 + (currentMileage - 50000) / 100000 * 0.15; // 15% –∑–∞ 100–∫ –∫–º
        } else if (currentMileage <= 300000) {
          mileageDepreciation = 0.25 + (currentMileage - 150000) / 150000 * 0.2; // 20% –∑–∞ 150–∫ –∫–º
        } else {
          mileageDepreciation = 0.45 + (currentMileage - 300000) / 100000 * 0.1; // 10% –∑–∞ 100–∫ –∫–º
        }

        // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–æ —Ç–∏–ø—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
        const usageMultipliers = {
          'personal': 1.0,      // –õ–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
          'taxi': 1.4,          // –¢–∞–∫—Å–∏ - –º–∞–∫—Å–∏–º—É–º 1.4x (–±—ã–ª–æ 1.8x)
          'commercial': 1.3,    // –ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ - –º–∞–∫—Å–∏–º—É–º 1.3x (–±—ã–ª–æ 1.6x)
          'delivery': 1.2       // –î–æ—Å—Ç–∞–≤–∫–∞ - –º–∞–∫—Å–∏–º—É–º 1.2x (–±—ã–ª–æ 1.4x)
        };

        // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–æ —Ç–∏–ø—É —Ç–æ–ø–ª–∏–≤–∞
        const fuelMultipliers = {
          'petrol': 1.0,        // –ë–µ–Ω–∑–∏–Ω - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
          'diesel': 0.9,        // –î–∏–∑–µ–ª—å - –Ω–µ–º–Ω–æ–≥–æ –ª—É—á—à–µ
          'hybrid': 0.7,        // –ì–∏–±—Ä–∏–¥ - –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ª—É—á—à–µ
          'electric': 0.6       // –≠–ª–µ–∫—Ç—Ä–æ - –µ—â—ë –ª—É—á—à–µ
        };

        // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–æ —É—Ä–æ–≤–Ω—é –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
        const maintenanceMultipliers = {
          'excellent': 0.7,     // –û—Ç–ª–∏—á–Ω–æ–µ - –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ª—É—á—à–µ
          'good': 0.85,         // –•–æ—Ä–æ—à–µ–µ - –ª—É—á—à–µ
          'average': 1.0,       // –°—Ä–µ–¥–Ω–µ–µ - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
          'poor': 1.2           // –ü–ª–æ—Ö–æ–µ - –º–∞–∫—Å–∏–º—É–º 1.2x (–±—ã–ª–æ 1.3x)
        };

        // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–æ –∫–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–æ–Ω–µ
        const climateMultipliers = {
          'mild': 1.0,          // –£–º–µ—Ä–µ–Ω–Ω—ã–π - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
          'cold': 1.15,         // –•–æ–ª–æ–¥–Ω—ã–π - –º–∞–∫—Å–∏–º—É–º 1.15x (–±—ã–ª–æ 1.2x)
          'hot': 1.1,           // –ñ–∞—Ä–∫–∏–π - –º–∞–∫—Å–∏–º—É–º 1.1x (–±—ã–ª–æ 1.15x)
          'humid': 1.2          // –í–ª–∞–∂–Ω—ã–π - –º–∞–∫—Å–∏–º—É–º 1.2x (–±—ã–ª–æ 1.25x)
        };

        // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–æ —Å–ø—Ä–æ—Å—É –Ω–∞ –º–æ–¥–µ–ª—å
        const demandMultipliers = {
          'high': 1.2,    // –í—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å
          'medium': 1.0,  // –°—Ä–µ–¥–Ω–∏–π —Å–ø—Ä–æ—Å - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
          'low': 0.8      // –ù–∏–∑–∫–∏–π —Å–ø—Ä–æ—Å —Å–Ω–∏–∂–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å
        };

        // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
        const technicalConditionMultipliers = {
          'excellent': 1.0,   // –û—Ç–ª–∏—á–Ω–æ–µ - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
          'good': 0.9,        // –•–æ—Ä–æ—à–µ–µ - –Ω–µ–º–Ω–æ–≥–æ —Å–Ω–∏–∂–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å
          'average': 0.75,    // –°—Ä–µ–¥–Ω–µ–µ - –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å
          'poor': 0.5         // –ü–ª–æ—Ö–æ–µ - —Å–∏–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å
        };

        // –°–Ω–∞—á–∞–ª–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –±–∞–∑–æ–≤—É—é –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—é –¥–æ —Ä–∞–∑—É–º–Ω—ã—Ö –ø—Ä–µ–¥–µ–ª–æ–≤
        const baseDepreciationRate = Math.min(baseDepreciation + mileageDepreciation, 0.6); // –ú–∞–∫—Å–∏–º—É–º 60%
        
        // –†–∞—Å—á—ë—Ç –æ–±—â–µ–π –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏ —Å —É—á—ë—Ç–æ–º –º–Ω–æ–∂–∏—Ç–µ–ª–µ–π
        const totalDepreciationRate = Math.min(
          baseDepreciationRate * 
          usageMultipliers[usageType] * 
          fuelMultipliers[fuelType] * 
          maintenanceMultipliers[maintenanceLevel] * 
          climateMultipliers[climateZone] * 
          demandMultipliers[demandLevel] * 
          technicalConditionMultipliers[technicalCondition],
          0.85 // –ú–∞–∫—Å–∏–º—É–º 85% –∏–∑–Ω–æ—Å–∞ (–±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ)
        );

        // –†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Å —É—á—ë—Ç–æ–º –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏
        const totalDepreciation = initialPrice * totalDepreciationRate;
        let currentValue = initialPrice - totalDepreciation;

        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ä—ã–Ω–æ—á–Ω—É—é –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É —Å —É—á—ë—Ç–æ–º –≤–æ–∑—Ä–∞—Å—Ç–∞
        if (currentNewPrice) {
          // –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞ —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –Ω–æ–≤—ã—Ö –∞–Ω–∞–ª–æ–≥–æ–≤, –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º —Å —É—á—ë—Ç–æ–º –≤–æ–∑—Ä–∞—Å—Ç–∞
          const marketRatio = currentNewPrice / initialPrice;
          // –ß–µ–º —Å—Ç–∞—Ä—à–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—å, —Ç–µ–º –º–µ–Ω—å—à–µ –≤–ª–∏—è–µ—Ç —Ä—ã–Ω–æ—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞
          const ageFactor = Math.max(0.3, 1 - (ageInYears * 0.05)); // –ú–∏–Ω–∏–º—É–º 30% –≤–ª–∏—è–Ω–∏—è
          currentValue = currentValue * (1 + (marketRatio - 1) * ageFactor);
        } else if (marketGrowth) {
          // –ò–Ω–∞—á–µ –ø—Ä–∏–º–µ–Ω—è–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç —Ä–æ—Å—Ç–∞ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É —Å —É—á—ë—Ç–æ–º –≤–æ–∑—Ä–∞—Å—Ç–∞
          const ageFactor = Math.max(0.3, 1 - (ageInYears * 0.05)); // –ú–∏–Ω–∏–º—É–º 30% –≤–ª–∏—è–Ω–∏—è
          currentValue = currentValue * (1 + (marketGrowth / 100) * ageFactor);
        }

        const depreciationPercent = (totalDepreciationRate * 100).toFixed(1);
        const monthlyDepreciation = totalDepreciation / (ageInYears * 12);

        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        document.getElementById('currentValue').textContent = Math.round(currentValue).toLocaleString() + ' ‚ÇΩ';
        document.getElementById('totalDepreciation').textContent = Math.round(totalDepreciation).toLocaleString() + ' ‚ÇΩ';
        document.getElementById('depreciationPercent').textContent = depreciationPercent + '%';
        document.getElementById('monthlyDepreciation').textContent = Math.round(monthlyDepreciation).toLocaleString() + ' ‚ÇΩ/–º–µ—Å';

        // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—è—Å–Ω–µ–Ω–∏–µ –æ —Ä—ã–Ω–æ—á–Ω–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–µ
        if (currentNewPrice || marketGrowth) {
          const explanation = document.createElement('div');
          explanation.style.cssText = 'background: #e8f5e8; border: 1px solid #c3e6c3; border-radius: 8px; padding: 15px; margin-top: 20px; color: #155724;';
          
          if (currentNewPrice) {
            const ageFactor = Math.max(0.3, 1 - (ageInYears * 0.05));
            explanation.innerHTML = `
              <strong>üí° –†—ã–Ω–æ—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞:</strong><br>
              ‚Ä¢ –ù–∞—á–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞: ${Math.round(initialPrice).toLocaleString()} ‚ÇΩ<br>
              ‚Ä¢ –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –Ω–æ–≤—ã—Ö –∞–Ω–∞–ª–æ–≥–æ–≤: ${Math.round(currentNewPrice).toLocaleString()} ‚ÇΩ<br>
              ‚Ä¢ –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ä–æ—Å—Ç–∞: ${(currentNewPrice / initialPrice).toFixed(2)}x<br>
              ‚Ä¢ –í–æ–∑—Ä–∞—Å—Ç–Ω–æ–π —Ñ–∞–∫—Ç–æ—Ä: ${(ageFactor * 100).toFixed(0)}% (–≤–æ–∑—Ä–∞—Å—Ç ${ageInYears} –ª–µ—Ç)<br>
              ‚Ä¢ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å —É—á—ë—Ç–æ–º —Ä—ã–Ω–∫–∞: ${Math.round(currentValue).toLocaleString()} ‚ÇΩ
            `;
          } else {
            const ageFactor = Math.max(0.3, 1 - (ageInYears * 0.05));
            explanation.innerHTML = `
              <strong>üí° –†—ã–Ω–æ—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞:</strong><br>
              ‚Ä¢ –ù–∞—á–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞: ${Math.round(initialPrice).toLocaleString()} ‚ÇΩ<br>
              ‚Ä¢ –†–æ—Å—Ç —Ü–µ–Ω: +${marketGrowth}%<br>
              ‚Ä¢ –í–æ–∑—Ä–∞—Å—Ç–Ω–æ–π —Ñ–∞–∫—Ç–æ—Ä: ${(ageFactor * 100).toFixed(0)}% (–≤–æ–∑—Ä–∞—Å—Ç ${ageInYears} –ª–µ—Ç)<br>
              ‚Ä¢ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å —É—á—ë—Ç–æ–º —Ä—ã–Ω–∫–∞: ${Math.round(currentValue).toLocaleString()} ‚ÇΩ
            `;
          }
          
          document.getElementById('results').appendChild(explanation);
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –≤—ã—Å–æ–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏
        if (totalDepreciationRate > 0.7) {
          const warning = document.createElement('div');
          warning.style.cssText = 'background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 15px; margin-top: 20px; color: #856404;';
          warning.innerHTML = `
            <strong>‚ö†Ô∏è –í—ã—Å–æ–∫–∞—è –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è:</strong><br>
            ‚Ä¢ –ü—Ä–æ—Ü–µ–Ω—Ç –∏–∑–Ω–æ—Å–∞: ${depreciationPercent}%<br>
            ‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–≤–µ–¥—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ<br>
            ‚Ä¢ –ü—Ä–∏ —Ç–∞–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø–ª–æ—Ö–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
          `;
          document.getElementById('results').appendChild(warning);
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        document.getElementById('results').style.display = 'block';

        // –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è
        showBreakdown(initialPrice, baseDepreciation, mileageDepreciation, usageType, fuelType, maintenanceLevel, climateZone, currentNewPrice, marketGrowth, demandLevel, technicalCondition, baseDepreciationRate, totalDepreciationRate, totalDepreciation, currentValue, usageMultipliers, fuelMultipliers, maintenanceMultipliers, climateMultipliers, demandMultipliers, technicalConditionMultipliers);
      }

      function showBreakdown(initialPrice, baseDepreciation, mileageDepreciation, usageType, fuelType, maintenanceLevel, climateZone, currentNewPrice, marketGrowth, demandLevel, technicalCondition, baseDepreciationRate, totalDepreciationRate, totalDepreciation, currentValue, usageMultipliers, fuelMultipliers, maintenanceMultipliers, climateMultipliers, demandMultipliers, technicalConditionMultipliers) {
        const breakdownList = document.getElementById('breakdownList');
        const depreciationPercent = (totalDepreciationRate * 100).toFixed(1);
        
        const usageNames = {
          'personal': '–õ–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ',
          'taxi': '–¢–∞–∫—Å–∏',
          'commercial': '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–∑–∫–∏',
          'delivery': '–î–æ—Å—Ç–∞–≤–∫–∞'
        };

        const fuelNames = {
          'petrol': '–ë–µ–Ω–∑–∏–Ω',
          'diesel': '–î–∏–∑–µ–ª—å',
          'hybrid': '–ì–∏–±—Ä–∏–¥',
          'electric': '–≠–ª–µ–∫—Ç—Ä–æ'
        };

        const maintenanceNames = {
          'excellent': '–û—Ç–ª–∏—á–Ω—ã–π',
          'good': '–•–æ—Ä–æ—à–∏–π',
          'average': '–°—Ä–µ–¥–Ω–∏–π',
          'poor': '–ü–ª–æ—Ö–æ–π'
        };

        const climateNames = {
          'mild': '–£–º–µ—Ä–µ–Ω–Ω–∞—è',
          'cold': '–•–æ–ª–æ–¥–Ω–∞—è',
          'hot': '–ñ–∞—Ä–∫–∞—è',
          'humid': '–í–ª–∞–∂–Ω–∞—è'
        };

        const demandNames = {
          'high': '–í—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å',
          'medium': '–°—Ä–µ–¥–Ω–∏–π —Å–ø—Ä–æ—Å',
          'low': '–ù–∏–∑–∫–∏–π —Å–ø—Ä–æ—Å'
        };

        const technicalConditionNames = {
          'excellent': '–û—Ç–ª–∏—á–Ω–æ–µ',
          'good': '–•–æ—Ä–æ—à–µ–µ',
          'average': '–°—Ä–µ–¥–Ω–µ–µ',
          'poor': '–ü–ª–æ—Ö–æ–µ'
        };

        // –†–∞—Å—á—ë—Ç —Ä—ã–Ω–æ—á–Ω–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        let displayMarketPrice = initialPrice;
        if (currentNewPrice) {
          displayMarketPrice = currentNewPrice;
        } else if (marketGrowth) {
          displayMarketPrice = initialPrice * (1 + marketGrowth / 100);
        }

        breakdownList.innerHTML = `
          <div class="breakdown-item">
            <span>–ù–∞—á–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</span>
            <span>${Math.round(initialPrice).toLocaleString()} ‚ÇΩ</span>
          </div>
          <div class="breakdown-item">
            <span>–†—ã–Ω–æ—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞</span>
            <span>${Math.round(displayMarketPrice).toLocaleString()} ‚ÇΩ</span>
          </div>
          <div class="breakdown-item">
            <span>–ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏</span>
            <span>${(baseDepreciation * 100).toFixed(1)}%</span>
          </div>
          <div class="breakdown-item">
            <span>–ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è –ø–æ –ø—Ä–æ–±–µ–≥—É</span>
            <span>${(mileageDepreciation * 100).toFixed(1)}%</span>
          </div>
          <div class="breakdown-item">
            <span>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –±–∞–∑–æ–≤–∞—è –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è</span>
            <span>${(baseDepreciationRate * 100).toFixed(1)}% (–º–∞–∫—Å. 60%)</span>
          </div>
          <div class="breakdown-item">
            <span>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (${usageNames[usageType]})</span>
            <span>${usageMultipliers[usageType]}x</span>
          </div>
          <div class="breakdown-item">
            <span>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ç–æ–ø–ª–∏–≤–∞ (${fuelNames[fuelType]})</span>
            <span>${fuelMultipliers[fuelType]}x</span>
          </div>
          <div class="breakdown-item">
            <span>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è (${maintenanceNames[maintenanceLevel]})</span>
            <span>${maintenanceMultipliers[maintenanceLevel]}x</span>
          </div>
          <div class="breakdown-item">
            <span>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–ª–∏–º–∞—Ç–∞ (${climateNames[climateZone]})</span>
            <span>${climateMultipliers[climateZone]}x</span>
          </div>
          <div class="breakdown-item">
            <span>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–ø—Ä–æ—Å–∞ (${demandNames[demandLevel]})</span>
            <span>${demandMultipliers[demandLevel]}x</span>
          </div>
          <div class="breakdown-item">
            <span>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (${technicalConditionNames[technicalCondition]})</span>
            <span>${technicalConditionMultipliers[technicalCondition]}x</span>
          </div>
          <div class="breakdown-item">
            <span>–ò—Ç–æ–≥–æ–≤–∞—è –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è</span>
            <span>${depreciationPercent}% (–º–∞–∫—Å. 85%)</span>
          </div>
          <div class="breakdown-item">
            <span>–°—É–º–º–∞ –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏</span>
            <span>${Math.round(totalDepreciation).toLocaleString()} ‚ÇΩ</span>
          </div>
          <div class="breakdown-item">
            <span>–¢–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</span>
            <span>${Math.round(currentValue).toLocaleString()} ‚ÇΩ</span>
          </div>
        `;

        document.getElementById('breakdown').style.display = 'block';
      }
    </script>

    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–Ω—é -->
    <script type="module" src="/frontend/scripts/menu-loader.js" defer></script>
    <script async src="https://ad.mail.ru/static/ads-async.js"></script>
  <div id="mobile-anchor-ad" class="mobile-anchor-ad" style="position:fixed;left:0;right:0;bottom:0;display:none;justify-content:center;z-index:2147483000;padding-bottom: env(safe-area-inset-bottom);pointer-events:none;">
    <div style="pointer-events:auto;background:rgba(255,255,255,.98);box-shadow:0 -2px 10px rgba(0,0,0,.15);border-radius:8px 8px 0 0;padding:6px 10px;display:flex;gap:8px;align-items:center;">
      <button type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å —Ä–µ–∫–ª–∞–º—É" onclick="(function(a){ a.style.display='none'; localStorage.setItem('anchor_closed','1');})(document.getElementById('mobile-anchor-ad'))" style="background:none;border:0;font-size:16px;line-height:1;cursor:pointer">‚úï</button>
      <ins class="mrg-tag" 
          style="display:inline-block;width:320px;height:50px" 
          data-ad-client="ad-1898031"
          data-ad-slot="1898031">
      </ins>
    </div>
  </div>
  <script>
    (function(){
      if (localStorage.getItem('anchor_closed')==='1') return;
      var w = window.innerWidth || document.documentElement.clientWidth;
      var a = document.getElementById('mobile-anchor-ad');
      if (!a) return;
      if (w <= 768) { a.style.display = "flex"; }
      (window.MRGtag = window.MRGtag || []).push({});
      if (window.visualViewport) {
        visualViewport.addEventListener('resize', function(){
          var h = visualViewport.height;
          a.style.display = (h < window.innerHeight * 0.8) ? "none" : ( (w <= 768) ? "flex" : "none" );
        });
      }
    })();
  </script>

<script>/*ANCHOR_COLLAPSE*/(function(){
  var a=document.getElementById('mobile-anchor-ad'); if(!a) return;
  setTimeout(function(){ var ins=a.querySelector('ins.mrg-tag'); var has=ins && ins.querySelector('iframe'); if(!has){
    (window.MRGtag=window.MRGtag||[]).push({});
    setTimeout(function(){ var ins2=a.querySelector('ins.mrg-tag'); var has2=ins2 && ins2.querySelector('iframe'); if(!has2){ a.style.display='none'; } }, 2000);
  } }, 2000);
})();</script>

<script>/*GLOBAL_AD_HOOK*/(function(){
  function handleIns(ins){
    if (!ins || ins.__handled) return; ins.__handled = true;
    setTimeout(function(){
      var has = !!ins.querySelector("iframe");
      if (!has) { (window.MRGtag=window.MRGtag||[]).push({}); }
      setTimeout(function(){ if (!ins.querySelector("iframe")) { var p=ins.closest(".ad-top-banner,.ad-leaderboard,.promo-ad-inline,#mobile-anchor-ad"); if(p) p.style.display='none'; } }, 2000);
    }, 2000);
  }
  document.querySelectorAll("ins.mrg-tag").forEach(handleIns);
  var mo = new MutationObserver(function(muts){
    muts.forEach(function(m){ m.addedNodes && m.addedNodes.forEach(function(n){ if(n.querySelectorAll){ n.querySelectorAll("ins.mrg-tag").forEach(handleIns); } }); });
  });
  mo.observe(document.documentElement,{childList:true,subtree:true});
})();</script>
    <script src="/frontend/scripts/mobile-enhancements.js" defer></script>
</body>
</html>